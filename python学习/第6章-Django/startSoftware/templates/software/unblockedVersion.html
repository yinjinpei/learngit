{#login/templates/login/index.html#}

{% extends 'software_base.html' %}
{% load staticfiles %}
{% block title %}解封版信息收集{% endblock %}

{% block content %}

{% block css %}
<style type="text/css">

    .title{
        font-weight: bold;
        color: green;
    }

    #uploadFile_con{
        text-align: center;
    }

    #uploadFile_con a:hover{
        background-color: gold;
        color: red;
    }

    .pull-left{
        color: #3e8f3e;
        font-weight: bold;
    }

    .form-group input:hover,#reset_btn:hover,#link_index:hover,#link_top:hover,#submit_btn:hover{
        color:red;
        background-color: gold;
    }

    .delfile_msg{
        color:red;
        text-align: center;
        font-size: 20px;
    }

    #reset_btn{
        margin-left: 35%;
    }

    #submit_btn{
        margin-right: 35%;
     }

    #link_index,#link_top{
        text-decoration: none;
        color: #fff;
    }

    .unblockedVersion_table{
        text-align: center;
        background-color: #f6ffff;
    }

    .table_title{
        background-color: #2e6da4;
        text-align: center;
    }

    .table_title_content{
        margin: 10px;
        color: #fff;
    }

    .table_data{
        text-align: center;
    }

    .table_text{
        width: 100%;
        height: 100%;
        text-align: center;
        display: block;
    }

    .table_th{
        height: 100px;
    }

</style>
{% endblock %}
<div class="col-md-12 col-md-offset-0" id="uploadFile_con">
    {% if request.session.is_login %}
        {% if dirObjectList is none %}
            <!--<h1>您好,{{ request.session.user_name }}！欢迎回来！</h1>-->
            <h1 class="title">解封版信息收集</h1>
        {% endif %}
    {% else %}
        <h2>你尚未登录，只能访问公开内容！</h2>
    {% endif %}


    <br>
    {% if message %}
        <div class="alert alert-warning delfile_msg">{{ message }}</div>
    {% endif %}
        <!--<form class='form-register' action="unblockedVersion" method="post" target="iframe">-->
        <form class='form-register' action="unblockedVersion" method="post">
            {% csrf_token %}
            <table border="1"  cellspacing="50" class="unblockedVersion_table">
                <tr>
                    <!--<th class="table_title"><div class="table_title_content">序号</div></th>-->
                    <th class="table_title"><div class="table_title_content">月份</div></th>
                    <th class="table_title"><div class="table_title_content">团队</div></th>
                    <th class="table_title"><div class="table_title_content">版本号</div></th>
                    <th class="table_title"><div class="table_title_content">子系统名称</div></th>
                    <th class="table_title"><div class="table_title_content">版本名称</div></th>
                    <th class="table_title"><div class="table_title_content">版本内容</div></th>
                    <th class="table_title"><div class="table_title_content">版本编制人</div></th>
                    <th class="table_title"><div class="table_title_content">开发负责人</div></th>
                    <th class="table_title"><div class="table_title_content">测试负责人</div></th>
                    <th class="table_title"><div class="table_title_content">所属开发组</div></th>
                    <th class="table_title"><div class="table_title_content">版本类型</div></th>
                    <th class="table_title"><div class="table_title_content">申请解封时间</div></th>
                    <th class="table_title"><div class="table_title_content">确认封版时间</div></th>
                    <th class="table_title"><div class="table_title_content">解封版类别</div></th>
                    <th class="table_title"><div class="table_title_content">解封版说明及根因分析</div></th>
                </tr>

                {% for versionInfo in unblocked_versionInfo_list %}
                    {% if versionInfo.isDelete is not none %}
                        {% if versionInfo.username == request.session.user_name %}
                            <tr>
                                <!--<th class="table_data">{{versionInfo.pk}}</th>-->
                                <th class="table_data">{{versionInfo.month}}</th>
                                <th class="table_data">{{versionInfo.team}}</th>
                                <th class="table_data">{{versionInfo.version_number}}</th>
                                <th class="table_data">{{versionInfo.subsystem}}</th>
                                <th class="table_data">{{versionInfo.version_name}}</th>
                                <th class="table_data">{{versionInfo.content}}</th>
                                <th class="table_data">{{versionInfo.version_compiler}}</th>
                                <th class="table_data">{{versionInfo.version_leader}}</th>
                                <th class="table_data">{{versionInfo.test_leader}}</th>
                                <th class="table_data">{{versionInfo.development_team}}</th>
                                <th class="table_data">{{versionInfo.version_type}}</th>
                                <th class="table_data">{{versionInfo.unblocked_datetime}}</th>
                                <th class="table_data">{{versionInfo.blocked_datetime}}</th>
                                <th class="table_data">{{versionInfo.unblocked_type}}</th>
                                <th class="table_data">{{versionInfo.unblocked_reason}}</th>
                            </tr>
                        {% endif %}
                    {% endif %}
                {% endfor %}

                <tr>
                    <!--<th class="table_th"><textarea class="table_text" name='id'  required></textarea></th>-->
                    <th class="table_th"><textarea class="table_text" name='month'  required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='team'  required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='version_number'  required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='subsystem'  required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='version_name'  required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='content'  required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='version_compiler'  required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='version_leader'  required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='test_leader' required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='development_team' required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='version_type' required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='unblocked_datetime' required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='blocked_datetime' required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='unblocked_type' required></textarea></th>
                    <th class="table_th"><textarea class="table_text" name='unblocked_reason' required></textarea></th>
                </tr>
            </table>
            <br><br><br>
            <button type="reset" class="btn btn-default pull-left" id="reset_btn">重置</button>
            <button type="submit" class="btn btn-primary pull-right" id="submit_btn">提交</button>
        </form>

        {% comment  %}
        <!--<iframe id="iframe" name="iframe" style="display:none;"></iframe>-->

        <!--{% for _ in count|get_range %}-->
        <!--<option>{{ forloop.counter }}</option>-->
        <!--{% endfor %}-->
        {% endcomment  %}

        <br><br><br><hr>
        <a class="btn btn-primary pull-left" id="link_index" href="/">返回首页</a>
        <br><br><br><br>
        <a class="btn btn-primary pull-left" id="link_top" href="#">回到顶部</a>
        <br><br><br><br>

</div>
{% endblock %}